{% extends 'base.html' %}

{% block content %}
  <h2>Item List</h2>
  <form method="get">
    <input type="text" name="search" placeholder="Search items..." value="{{ request.GET.search }}" />
    <button type="submit">Search</button>
  </form>

  <div class="item-list">
    {% for item in items %}
      <div class="item">
        <h3>{{ item.name }}</h3>
        <p>{{ item.description }}</p>
        <a href="{% url 'item_detail' pk=item.pk %}">View Details</a>
      </div>
    {% endfor %}
  </div>

  <div class="pagination">
    <span class="step-links">
        {% if items.has_previous %}
            <a href="?page=1&{{ request.GET.urlencode }}">first</a>
            <a href="?page={{ items.previous_page_number }}&{{ request.GET.urlencode }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ items.number }} of {{ items.paginator.num_pages }}.
        </span>

        {% if items.has_next %}
            <a href="?page={{ items.next_page_number }}&{{ request.GET.urlencode }}">next</a>
            <a href="?page={{ items.paginator.num_pages }}&{{ request.GET.urlencode }}">last</a>
        {% endif %}
    </span>
  </div>
{% endblock %}
